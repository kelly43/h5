///<jscompress sourcefile="gc.js" />
///<jscompress sourcefile="gas.js" />
/**
 * Created by hotyi on 2016/7/1.
 *////<jscompress sourcefile="roo.js" />
/**
 * Created by hotyi on 2016/7/1.
 */function GC(c,a,b){this._stage_bg=c;this._stage_main=a;this._stage_top=b;this._currentScore=this._targetScore=0;this._isGameStart=!1;this._scene=null;this._panel=new Panel(this);this._choosePass=[!0,!1,!1];this._interface=new IHotyi;this.getInfo();this.lastTime=this.curTime=null}GC.IsGameOver=!1;GC.prototype={getInfo:function(){window.userJson={Code:1,Msg:"",Data:{UserID:1,UserLogo:"http://wx.qlogo.cn/mmopen/oTicPgWuwSmBibHabuj4x77hSibyX18Vq2WaOzzx3N6u9rrBYjI6mKgEbq8UgITBLWebZ0CIUjtXuhAuLHwTyicAUJbiaPI1kR5ON/64",NickName:"\ue110\u73b2\ue347",MaxWinNum:0,UserName:"",UserPhone:"",UserAddress:"",GiftsList:[{GiftID:1,GiftName:"gift1",RuleTime:5,GiftCondition:5,GiftStatue:!1,IsOpen:!1,IsWin:!1,AwardID:0,AwardName:null,AwardDesc:null,AwardImg:"../../Content/Images/img/j4.png",ChanceKey:"P00001",PassNum:0,"IsUse ":!0},{GiftID:2,GiftName:"gift2",RuleTime:15,GiftCondition:10,GiftStatue:!1,IsOpen:!1,IsWin:!1,AwardID:0,AwardName:null,AwardDesc:null,AwardImg:null,ChanceKey:"P00001",PassNum:0,"IsUse ":!0},{GiftID:3,GiftName:"gift3",RuleTime:10,GiftCondition:15,GiftStatue:!1,IsOpen:!1,IsWin:!1,AwardID:0,AwardName:null,AwardDesc:null,AwardImg:null,ChanceKey:"P00001",PassNum:0,IsUse:!0}]}};1===window.userJson.Code?this.gameInit():alert(window.userJson.Msg)},gameInit:function(){this._panel.showStartPanel()},gameStart:function(){},gameOver:function(c){var a=c-1,b=document.getElementById("music");b.pause();b.currentTime=0;this._stage_bg.isAction=!0;this._currentScore>window.userJson.Data.GiftsList[a].PassNum&&(window.userJson.Data.GiftsList[a].PassNum=this._currentScore);this._currentScore>=window.userJson.Data.GiftsList[a].GiftCondition?(this._choosePass[a+1]=!0,window.userJson.Data.GiftsList[a].GiftStatue?this._panel.winPanel(c):(window.userJson.Data.GiftsList[a].GiftStatue=!0,this._panel.saveDataPanel(c))):this._panel.losePanel(c)},gameReplay:function(c){this.clearAllStage();this._scene=new Scene(this,c)},clearAllStage:function(){this._stage_bg.displayObjectSet=[];this._stage_main.displayObjectSet=[];this._stage_top.displayObjectSet=[];KEvent.RemoveAllEventObj();this._currentScore=0;this._scene=null;Gas.GasSet=[];Roo.RooSet=[]}};function Panel(c){this._gc=c}Panel.prototype={_title:null,_startBg:null,_maxScoreBox:null,_maxScore:null,_rankBtn:null,_player:null,_ruleBtn:null,_gamaStartBtn:null,_prizeBox:[{_bitmap:null,_cover:null,_name:null},{_bitmap:null,_cover:null,_name:null},{_bitmap:null,_cover:null,_name:null}],showStartPanel:function(c){var a=this,b=a._gc._stage_top;b.canvas.style.opacity=0;KWhaleUtils.Tween(b.canvas.style,{opacity:1},0,600,TWEEN.Easing.Linear.None).start().onComplete(function(){c&&c()});a._gc._scene=null;a._startBg=a.createBitmap("a1",b,1,b.sw/2,b.sh/2);a._title=a.createBitmap("a2",b,207/1135,b.sw/2,b.sh/1135*40);a._title.anchorY=0;a._player=a.createBitmap("a3",b,495/1135,b.sw/2,b.sh/1135*480);a._scoreBox=a.createBitmap("a4",b,156/1135,b.sw/2-b.sh/1135*246,b.sh/1135*381);a._rankBtn=a.createBitmap("a5",b,136/1135,b.sw/2+b.sh/1135*246,b.sh/1135*381);a._ruleBtn=a.createBitmap("a6",b,70/1135,b.sw/2-b.sh/1135*225,b.sh/1135*581);KWhaleUtils.Tween_YoYo(a._ruleBtn,{x:b.sw/2-b.sh/1135*195},0,1E3,TWEEN.Easing.Quadratic.InOut).start();for(var d=0;3>d;d++)a._prizeBox[d]._bitmap=a.createBitmap("b"+(d+4),b,179/1135,b.sw/2,b.sh/1135*898),a._prizeBox[d]._cover=a.createBitmap("b7",b,179/1135,b.sw/2,b.sh/1135*898),a._prizeBox[d]._name=a.createBitmap("a"+(d+9),b,36/1135,b.sw/2,b.sh/1135*1020),b.removeChild(a._prizeBox[d]._cover);a._prizeBox[0]._bitmap.x=a._prizeBox[0]._cover.x=a._prizeBox[0]._name.x=b.sw/2-b.sh/1135*205;a._prizeBox[2]._bitmap.x=a._prizeBox[2]._cover.x=a._prizeBox[2]._name.x=b.sw/2+b.sh/1135*205;d=window.userJson.Data.GiftsList[0].PassNum+window.userJson.Data.GiftsList[1].PassNum+window.userJson.Data.GiftsList[2].PassNum;window.userJson.Data.MaxWinNum<d&&(window.userJson.Data.MaxWinNum=d);a._maxScore=new Text(window.userJson.Data.MaxWinNum,"Arial",b.sh/1135*52,"#e85e4f");a._maxScore.y=a._scoreBox.y;a._maxScore.x=a._scoreBox.x-a._maxScore.width/2;b.addChild(a._maxScore);new KEvent(a._rankBtn,{type:"touchend"},function(){a.showRankingList()});new KEvent(a._ruleBtn,{type:"touchend"},function(){a.rulePannel()});a._ruleBtn.isAutoReflash=!0;if(window.isShare){console.log("share");a._gamaStartBtn=a.createBitmap("a8",b,109/1135,b.sw/2,b.sh/1135*735);new KEvent(a._gamaStartBtn,{type:"touchend"},function(){a._gamaStartBtn.evtObject.destory();a.hideStartPanel();window.location.href="index.html"});var g=function(b){window.userJson.Data.GiftsList[b].GiftStatue&&(a._prizeBox[b]._bitmap.img=RES.getRES("b"+(b+1)))},d=0,f=window.userJson.Data.GiftsList.length}else a._gamaStartBtn=a.createBitmap("a7",b,109/1135,b.sw/2,b.sh/1135*735),new KEvent(a._gamaStartBtn,{type:"touchend"},function(){a._gamaStartBtn.evtObject.destory();a.hideStartPanel();a.chooseScene()}),g=function(c){if(window.userJson.Data.GiftsList[c].GiftStatue)if(a._gc._choosePass[c+1]=!0,a._prizeBox[c]._bitmap.img=RES.getRES("b"+(c+1)),window.userJson.Data.GiftsList[c].IsOpen)window.userJson.Data.GiftsList[c].IsWin?(a._prizeBox[c]._cover.img=RES.getRES("b8"),b.addChild(a._prizeBox[c]._cover),new KEvent(a._prizeBox[c]._bitmap,{type:"touchend"},function(){a.showPrizePanel(c)})):(a._prizeBox[c]._cover.img=RES.getRES("b7"),b.addChild(a._prizeBox[c]._cover));else{a._prizeBox[c]._bitmap.rotation=-10;var d=KWhaleUtils.Tween_YoYo(a._prizeBox[c]._bitmap,{rotation:10},0,100,TWEEN.Easing.Quadratic.InOut).start();new KEvent(a._prizeBox[c]._bitmap,{type:"touchend"},function(){""==window.userJson.Data.UserName?a.saveDataPanel(c+1):(d.stop(),a._prizeBox[c]._bitmap.rotation=0,a._prizeBox[c]._bitmap.evtObject.destory(),window.userJson.Data.GiftsList[c].IsOpen=!0,window.userJson.Data.GiftsList[c].IsWin=!0,window.userJson.Data.GiftsList[c].AwardID=3,window.userJson.Data.GiftsList[c].AwardName="../../Content/Images/img/j4.png",window.userJson.Data.GiftsList[c].AwardDesc="\u4eac\u6771\u512a\u60e0\u5238",window.userJson.Data.GiftsList[c].ChanceKey="P00001",window.userJson.Data.GiftsList[c].AwardImg="../../Content/Images/img/j4.png",a._prizeBox[c]._cover.img=RES.getRES("b8"),b.addChild(a._prizeBox[c]._cover),a.showPrizePanel(c),new KEvent(a._prizeBox[c]._bitmap,{type:"touchend"},function(){a.showPrizePanel(c)}))})}},d=0,f=window.userJson.Data.GiftsList.length;for(;d<f;d++)g(d)},hideStartPanel:function(){var c=this._gc._stage_top;KEvent.RemoveAllEventObj();c.canvas.style.opacity=1;KWhaleUtils.Tween(c.canvas.style,{opacity:0},0,500,TWEEN.Easing.Linear.None).start().onComplete(function(){c.displayObjectSet=[];c.canvas.style.opacity=1})},_prizeImg:null,_btnBoxS1:null,_btnBoxS2:null,_btnText1:null,_btnText2:null,_AddressInp:null,showPrizePanel:function(c){var a=this,b=a._gc._stage_top;window.isCanTouch=!0;window.isCanMove=!0;var d=b.canvas.style.zIndex;b.canvas.style.zIndex=99;a._mask=KWhaleUtils.getMask("#0b0100",.8);b.addChild(a._mask);a._popupBox=a.createBitmap("j1",b,682/1135,b.sw/2,b.sh/1135*636);a._titleBox=a.createBitmap("z2",b,200/1135,b.sw/2,a._popupBox.y-b.sh/1135*390);a._closeBtn=new Shape.Rectangle({x:a._titleBox.x+b.sh/1135*263,y:a._titleBox.y-b.sh/1135*56},b.sh/1135*56,b.sh/1135*56,"rgba(0,0,0,0)");a._closeBtn.anchorX=a._closeBtn.anchorY=.5;b.addChild(a._closeBtn);KWhaleUtils.getImgBySrcAndCall(window.userJson.Data.GiftsList[c].AwardImg,function(c){a._prizeImg=new Bitmap(c);KWhaleUtils.AddStageByScaleHNoCheck(b,a._prizeImg,225/1135);a._prizeImg.anchorX=a._prizeImg.anchorY=.5;a._prizeImg.x=b.sw/2;a._prizeImg.y=a._popupBox.y-b.sh/1135*78});a._AddressInp=new Form.Text((b.sw/2+b.sh/1135*100)/2,a._popupBox.y+b.sh/1135*58,b.sh/1135*320,b.sh/1135*70);a._AddressInp.ele.style.fontSize=b.sh/1135*25/window.KWRatio+"px";a._AddressInp.ele.style.lineHeight=b.sh/1135*70/window.KWRatio+"px";a._AddressInp.ele.style.color="#636867";a._AddressInp.ele.style.zIndex=100;""!=window.userJson.Data.UserAddress?(window.isCanTouch=!1,window.isCanMove=!1,a._AddressInp.ele.value=window.userJson.Data.UserAddress,a._btnBoxS2=a.createBitmap("nn2",b,77/1135,b.sw/2,a._popupBox.y+b.sh/1135*204),a._btnText2=new Text("\u9644\u8fd1\u95e8\u5e97","Helvetica",b.sh/1135*30,"#fff"),a._btnText2.y=a._btnBoxS2.y+b.sh/1135*10,a._btnText2.x=a._btnBoxS2.x-a._btnText2.width/2,b.addChild(a._btnText2),new KEvent(a._btnBoxS2,{type:"touchend"},function(){a._btnBoxS2.evtObject.destory();b.canvas.style.zIndex=d;window.location.href="http://www.paterson.com.cn/?list-712.html"}),a._btnBoxS2.evtObject.ele.style.zIndex=100,new KEvent(a._closeBtn,{type:"touchend"},function(){a._closeBtn.evtObject.destory();b.canvas.style.zIndex=d;window.isCanTouch=!1;window.isCanMove=!1;a.hidePrizePanel(0)}),a._closeBtn.evtObject.ele.style.zIndex=100):(a._btnBoxS1=a.createBitmap("nn3",b,77/1135,b.sw/2-b.sh/1135*122,a._popupBox.y+b.sh/1135*204),a._btnBoxS2=a.createBitmap("nn3",b,77/1135,b.sw/2+b.sh/1135*122,a._popupBox.y+b.sh/1135*204),a._btnText1=new Text("\u4fdd\u5b58\u4fe1\u606f","Helvetica",b.sh/1135*30,"#fff"),a._btnText1.y=a._btnBoxS1.y+b.sh/1135*10,a._btnText1.x=a._btnBoxS1.x-a._btnText1.width/2,b.addChild(a._btnText1),a._btnText2=new Text("\u9644\u8fd1\u95e8\u5e97","Helvetica",b.sh/1135*30,"#fff"),a._btnText2.y=a._btnBoxS2.y+b.sh/1135*10,a._btnText2.x=a._btnBoxS2.x-a._btnText2.width/2,b.addChild(a._btnText2),new KEvent(a._btnBoxS2,{type:"touchend"},function(){a._btnBoxS2.evtObject.destory();b.canvas.style.zIndex=d;window.location.href="http://www.paterson.com.cn/?list-712.html"}),a._btnBoxS2.evtObject.ele.style.zIndex=100,new KEvent(a._closeBtn,{type:"touchend"},function(){a._closeBtn.evtObject.destory();b.canvas.style.zIndex=d;window.isCanTouch=!1;window.isCanMove=!1;a.hidePrizePanel(1)}),a._closeBtn.evtObject.ele.style.zIndex=100,new KEvent(a._btnBoxS1,{type:"touchend"},function(){a._btnBoxS1.evtObject.destory();""==a._AddressInp.ele.value.trim()?(alert("\u8bf7\u8f93\u5165\u60a8\u7684\u5730\u5740"),a._btnBoxS1.evtObject.reAdd()):(a._AddressInp.ele.readOnly="readonly",window.isCanTouch=!1,window.isCanMove=!1,b.removeChild(a._btnBoxS1),b.removeChild(a._btnBoxS2),b.removeChild(a._btnText1),b.removeChild(a._btnText2),a._btnBoxS2.evtObject.destory(),window.userJson.Data.UserAddress=a._AddressInp.ele.value,a._AddressInp.ele.value=a._AddressInp.ele.value,a._btnBoxS2=a.createBitmap("nn2",b,77/1135,b.sw/2,a._popupBox.y+b.sh/1135*204),a._btnText2.x=a._btnBoxS2.x-a._btnText2.width/2,b.addChild(a._btnText2),new KEvent(a._btnBoxS2,{type:"touchend"},function(){a._btnBoxS2.evtObject.destory();b.canvas.style.zIndex=d;window.location.href="http://www.paterson.com.cn/?list-712.html"}),a._btnBoxS2.evtObject.ele.style.zIndex=100)}),a._btnBoxS1.evtObject.ele.style.zIndex=100)},hidePrizePanel:function(c){var a=this._gc._stage_top;this._btnBoxS2.evtObject.destory();console.log(this._btnBoxS1);0!=c&&(console.log("1"),a.removeChild(this._btnBoxS1),this._btnBoxS1.evtObject.destory());a.removeChild(this._popupBox);a.removeChild(this._titleBox);a.removeChild(this._closeBtn);a.removeChild(this._prizeImg);a.removeChild(this._btnBoxS2);a.removeChild(this._btnText1);a.removeChild(this._btnText2);document.body.removeChild(this._AddressInp.ele);a.removeChild(this._mask)},_titleBox:null,_closeBtn:null,_popupBox:null,_btnBoxL:null,_btnText:null,_mask:null,showNoPrizePanel:function(){var c=this,a=c._gc._stage_top,b=a.canvas.style.zIndex;a.canvas.style.zIndex=99;c._mask=KWhaleUtils.getMask("#0b0100",.8);a.addChild(c._mask);c._popupBox=c.createBitmap("k1",a,405/1135,a.sw/2,a.sh/1135*614);c._titleBox=c.createBitmap("z2",a,200/1135,a.sw/2,c._popupBox.y-c._popupBox.height/2);c._closeBtn=new Shape.Rectangle({x:c._titleBox.x+a.sh/1135*263,y:c._titleBox.y-a.sh/1135*56},a.sh/1135*56,a.sh/1135*56,"rgba(0,0,0,0)");c._closeBtn.anchorX=c._closeBtn.anchorY=.5;a.addChild(c._closeBtn);c._btnBoxL=c.createBitmap("nn2",a,77/1135,a.sw/2,c._popupBox.y+a.sh/1135*82);c._btnText=new Text("\u518d\u6b21\u6311\u6218","Helvetica",a.sh/1135*30,"#fff");c._btnText.y=c._btnBoxL.y+a.sh/1135*10;c._btnText.x=c._btnBoxL.x-c._btnText.width/2;a.addChild(c._btnText);new KEvent(c._closeBtn,{type:"touchend"},function(){c._closeBtn.evtObject.destory();a.canvas.style.zIndex=b;c.hideNoPrizePanel()});c._closeBtn.evtObject.ele.style.zIndex=100;new KEvent(c._btnBoxL,{type:"touchend"},function(){c._btnBoxL.evtObject.destory();a.canvas.style.zIndex=b;c.hideNoPrizePanel()});c._btnBoxL.evtObject.ele.style.zIndex=100},hideNoPrizePanel:function(){var c=this._gc._stage_top;c.removeChild(this._popupBox);c.removeChild(this._titleBox);c.removeChild(this._closeBtn);c.removeChild(this._btnBoxL);c.removeChild(this._btnText);c.removeChild(this._mask)},_chooseBg:null,_returnBtn:null,_tips:null,_passBox:[{_bitmap:null,_lock:null,_tips:null},{_bitmap:null,_lock:null,_tips:null},{_bitmap:null,_lock:null,_tips:null}],chooseScene:function(){var c=this,a=c._gc._stage_main;a.canvas.style.opacity=0;KWhaleUtils.Tween(a.canvas.style,{opacity:1},0,1E3,TWEEN.Easing.Linear.None).start();c._chooseBg=c.createBitmap("c1",a,1,a.sw/2,a.sh/2);c._returnBtn=c.createBitmap("cc2",a,64/1135,a.sw/2-a.sh/1135*253,a.sh/1135*53);c._tips=c.createBitmap("cc3",a,33/1135,a.sw/2+a.sh/1135*67,a.sh/1135*55);c._passBox[0]._bitmap=c.createBitmap("c2",a,306/1135,a.sw/2,a.sh/1135*251);c._passBox[1]._bitmap=c.createBitmap("c3",a,306/1135,a.sw/2,c._passBox[0]._bitmap.y+a.sh/1135*339);c._passBox[2]._bitmap=c.createBitmap("c4",a,306/1135,a.sw/2,c._passBox[1]._bitmap.y+a.sh/1135*339);for(var b=0;3>b;b++)c._passBox[b]._lock=c.createBitmap("c5",a,239/1135,a.sw/2,c._passBox[b]._bitmap.y-a.sh/1135*30);c._passBox[0]._tips=new Text(window.userJson.Data.GiftsList[0].RuleTime+"\u79d2\u5185\u51fb\u9000\u7532\u919b\u83b7\u5f97"+window.userJson.Data.GiftsList[0].GiftCondition+"\u4e2a\u888b\u9f20","Helvetica",a.sh/1135*24,"#fff");c._passBox[0]._tips.y=c._passBox[0]._bitmap.y+a.sh/1135*125;c._passBox[0]._tips.x=a.sw/2-c._passBox[0]._tips.width/2;a.addChild(c._passBox[0]._tips);c._passBox[1]._tips=new Text("\u5b8c\u6210\u5173\u53611\u5373\u53ef\u89e3\u9501,"+window.userJson.Data.GiftsList[1].RuleTime+"\u79d2\u5185\u51fb\u9000\u7532\u919b\u83b7\u5f97"+window.userJson.Data.GiftsList[1].GiftCondition+"\u4e2a\u888b\u9f20","Helvetica",a.sh/1135*24,"#fff");c._passBox[1]._tips.y=c._passBox[1]._bitmap.y+a.sh/1135*125;c._passBox[1]._tips.x=a.sw/2-c._passBox[1]._tips.width/2;a.addChild(c._passBox[1]._tips);c._passBox[2]._tips=new Text("\u5b8c\u6210\u5173\u53612\u5373\u53ef\u89e3\u9501,"+window.userJson.Data.GiftsList[2].RuleTime+"\u79d2\u5185\u51fb\u9000\u7532\u919b\u83b7\u5f97"+window.userJson.Data.GiftsList[2].GiftCondition+"\u4e2a\u888b\u9f20","Helvetica",a.sh/1135*24,"#fff");c._passBox[2]._tips.y=c._passBox[2]._bitmap.y+a.sh/1135*125;c._passBox[2]._tips.x=a.sw/2-c._passBox[2]._tips.width/2;a.addChild(c._passBox[2]._tips);new KEvent(c._returnBtn,{type:"touchend"},function(){KEvent.RemoveAllEventObj();c.hideChoosePanel();c.showStartPanel()});for(var d=function(b){new KEvent(c._passBox[b]._bitmap,{type:"touchend"},function(){KEvent.RemoveAllEventObj();a.displayObjectSet=[];c._gc._scene=new Scene(c._gc,b+1)})},b=0;3>b;b++)c._gc._choosePass[b]&&(a.removeChild(c._passBox[b]._lock),d(b))},hideChoosePanel:function(){var c=this._gc._stage_main;c.canvas.style.opacity=1;KEvent.RemoveAllEventObj();KWhaleUtils.Tween(c.canvas.style,{opacity:0},0,500,TWEEN.Easing.Linear.None).start().onComplete(function(){c.displayObjectSet=[];c.canvas.style.opacity=1})},_black:null,_share_img:null,sharePanel:function(){var c=this,a=c._gc._stage_top,b=a.canvas.style.zIndex;a.canvas.style.zIndex=99;c._mask=KWhaleUtils.getMask("#0b0100",.8);a.addChild(c._mask);c._share_img=c.createBitmap("i1",a,529/1135,a.sw/2,a.sh/1135*41);c._share_img.anchorY=0;new KEvent(c._mask,{type:"touchend"},function(){c._mask.evtObject.destory();a.canvas.style.zIndex=b;window.gc._scene?c.showStartPanel(function(){c._gc._stage_main.displayObjectSet=[];c._gc._stage_bg.displayObjectSet=[];c._gc._currentScore=0;c._gc._scene=null;Gas.GasSet=[];Roo.RooSet=[]}):(a.removeChild(c._mask),a.removeChild(c._share_img),c.showStartPanel())});c._mask.evtObject.ele.style.zIndex=100},_giftBox:null,_giftText:null,_nameInp:null,_phoneInp:null,saveDataPanel:function(c){var a=this,b=a._gc._stage_top;window.isCanTouch=!0;window.isCanMove=!0;var d=b.canvas.style.zIndex;b.canvas.style.zIndex=99;a._mask=KWhaleUtils.getMask("#0b0100",.8);b.addChild(a._mask);a._popupBox=a.createBitmap("g7",b,819/1135,b.sw/2,b.sh/1135*636);a._titleBox=a.createBitmap("z2",b,200/1135,b.sw/2,a._popupBox.y-b.sh/1135*405);a._closeBtn=new Shape.Rectangle({x:a._titleBox.x+b.sh/1135*263,y:a._titleBox.y-b.sh/1135*56},b.sh/1135*56,b.sh/1135*56,"rgba(0,0,0,0)");a._closeBtn.anchorX=a._closeBtn.anchorY=.5;b.addChild(a._closeBtn);new KEvent(a._closeBtn,{type:"touchend"},function(){a._closeBtn.evtObject.destory();b.canvas.style.zIndex=d;document.body.removeChild(a._nameInp.ele);document.body.removeChild(a._phoneInp.ele);KEvent.RemoveAllEventObj();window.isCanTouch=!1;window.isCanMove=!1;b.displayObjectSet=[];a._gc._stage_bg.displayObjectSet=[];a._gc._stage_main.displayObjectSet=[];a._gc._currentScore=0;a._gc._scene=null;Gas.GasSet=[];Roo.RooSet=[];a.chooseScene()});a._closeBtn.evtObject.ele.style.zIndex=100;window.gc._scene?(console.log("0",window.gc._scene),a._scoreNum=new Text(a._gc._currentScore,"Arial",b.sh/1135*65,"#e85e4f")):a._scoreNum=new Text(window.userJson.Data.GiftsList[c-1].PassNum,"Arial",b.sh/1135*65,"#e85e4f");a._scoreNum.y=a._popupBox.y-b.sh/1135*255;a._scoreNum.x=b.sw/2+b.sh/1135*50-a._scoreNum.width/2;b.addChild(a._scoreNum);a._giftBox=a.createBitmap("g"+c,b,170/1135,b.sw/2,a._popupBox.y-b.sh/1135*153);a._giftText=a.createBitmap("g"+(c+3),b,65/1135,b.sw/2,a._popupBox.y-b.sh/1135*20);a._nameInp=new Form.Text((b.sw/2+b.sh/1135*100)/2,a._popupBox.y+b.sh/1135*32,b.sh/1135*320,b.sh/1135*68);a._nameInp.ele.style.fontSize=b.sh/1135*25/window.KWRatio+"px";a._nameInp.ele.style.lineHeight=b.sh/1135*70/window.KWRatio+"px";a._nameInp.ele.style.color="#636867";a._nameInp.ele.style.zIndex=100;a._phoneInp=new Form.Text((b.sw/2+b.sh/1135*100)/2,a._popupBox.y+b.sh/1135*120,b.sh/1135*320,b.sh/1135*68);a._phoneInp.ele.style.fontSize=b.sh/1135*25/window.KWRatio+"px";a._phoneInp.ele.style.lineHeight=b.sh/1135*70/window.KWRatio+"px";a._phoneInp.ele.style.color="#636867";a._phoneInp.ele.style.zIndex=100;a._btnBoxS1=a.createBitmap("nn3",b,77/1135,b.sw/2-b.sh/1135*122,a._popupBox.y+b.sh/1135*286);a._btnBoxS2=a.createBitmap("nn3",b,77/1135,b.sw/2+b.sh/1135*122,a._popupBox.y+b.sh/1135*286);a._btnText1=new Text("\u63d0\u4ea4\u524d\u5f80\u62bd\u5956","Helvetica",b.sh/1135*30,"#fff");a._btnText1.y=a._btnBoxS1.y+b.sh/1135*10;a._btnText1.x=a._btnBoxS1.x-a._btnText1.width/2;b.addChild(a._btnText1);a._btnText2=new Text("\u6652\u4e00\u6652","Helvetica",b.sh/1135*30,"#fff");a._btnText2.y=a._btnBoxS2.y+b.sh/1135*10;a._btnText2.x=a._btnBoxS2.x-a._btnText2.width/2;b.addChild(a._btnText2);new KEvent(a._btnBoxS2,{type:"touchend"},function(){a._btnBoxS2.evtObject.destory();b.canvas.style.zIndex=d;document.body.removeChild(a._nameInp.ele);document.body.removeChild(a._phoneInp.ele);KEvent.RemoveAllEventObj();b.removeChild(a._giftBox);b.removeChild(a._giftText);b.removeChild(a._nameInp);b.removeChild(a._phoneInp);b.removeChild(a._popupBox);b.removeChild(a._titleBox);b.removeChild(a._scoreNum);b.removeChild(a._btnBoxS1);b.removeChild(a._btnBoxS2);b.removeChild(a._btnText1);b.removeChild(a._btnText2);b.removeChild(a._mask);window.isCanTouch=!1;window.isCanMove=!1;a.sharePanel()});a._btnBoxS2.evtObject.ele.style.zIndex=100;""!=window.userJson.Data.UserName?(window.isCanTouch=!1,window.isCanMove=!1,a._nameInp.ele.value=window.userJson.Data.UserName,a._phoneInp.ele.value=window.userJson.Data.UserPhone,a._btnText1.text="\u524d\u5f80\u62bd\u5956",a._btnText1.getRealSize(),a._btnText1.x=a._btnBoxS1.x-a._btnText1.width/2,new KEvent(a._btnBoxS1,{type:"touchend"},function(){a._btnBoxS1.evtObject.destory();b.canvas.style.zIndex=d;document.body.removeChild(a._nameInp.ele);document.body.removeChild(a._phoneInp.ele);a._gc.clearAllStage();a.showStartPanel()})):new KEvent(a._btnBoxS1,{type:"touchend"},function(){a._btnBoxS1.evtObject.destory();""==a._nameInp.ele.value.trim()?(alert("\u8bf7\u8f93\u5165\u60a8\u7684\u59d3\u540d"),a._btnBoxS1.evtObject.reAdd()):""==a._phoneInp.ele.value.trim()?(alert("\u8bf7\u8f93\u5165\u60a8\u7684\u7535\u8bdd"),a._btnBoxS1.evtObject.reAdd()):/^[0-9]{7,13}$/.test(a._phoneInp.ele.value.trim())?(window.userJson.Data.UserName=a._nameInp.ele.value,window.userJson.Data.UserPhone=a._phoneInp.ele.value,a._nameInp.ele.readOnly="readonly",a._phoneInp.ele.readOnly="readonly",window.isCanTouch=!1,window.isCanMove=!1,b.canvas.style.zIndex=d,document.body.removeChild(a._nameInp.ele),document.body.removeChild(a._phoneInp.ele),a._gc.clearAllStage(),a.showStartPanel()):(alert("\u8bf7\u60a8\u8f93\u5165\u6709\u6548\u7684\u7535\u8bdd\u53f7\u7801"),a._btnBoxS1.evtObject.reAdd())});a._btnBoxS1.evtObject.ele.style.zIndex=100},winPanel:function(c){var a=this,b=a._gc._stage_top,d=b.canvas.style.zIndex;b.canvas.style.zIndex=99;a._mask=KWhaleUtils.getMask("#0b0100",.8);b.addChild(a._mask);a._popupBox=a.createBitmap("nn1",b,495/1135,b.sw/2,b.sh/1135*614);a._titleBox=a.createBitmap("a2",b,200/1135,b.sw/2,a._popupBox.y-b.sh/1135*210);a._scoreNum=new Text(a._gc._currentScore,"Arial",b.sh/1135*65,"#e85e4f");a._scoreNum.y=a._popupBox.y+b.sh/1135*30;a._scoreNum.x=b.sw/2+b.sh/1135*30-a._scoreNum.width/2;b.addChild(a._scoreNum);a._btnBoxS1=a.createBitmap("nn3",b,77/1135,b.sw/2-b.sh/1135*122,a._popupBox.y+b.sh/1135*118);a._btnBoxS2=a.createBitmap("nn3",b,77/1135,b.sw/2+b.sh/1135*122,a._popupBox.y+b.sh/1135*118);a._btnText1=new Text("\u7ee7\u7eed\u6311\u6218","Helvetica",b.sh/1135*30,"#fff");a._btnText1.y=a._btnBoxS1.y+b.sh/1135*10;a._btnText1.x=a._btnBoxS1.x-a._btnText1.width/2;b.addChild(a._btnText1);a._btnText2=new Text("\u8fd4\u56de\u9996\u9875","Helvetica",b.sh/1135*30,"#fff");a._btnText2.y=a._btnBoxS2.y+b.sh/1135*10;a._btnText2.x=a._btnBoxS2.x-a._btnText2.width/2;b.addChild(a._btnText2);new KEvent(a._btnBoxS1,{type:"touchend"},function(){a._btnBoxS1.evtObject.destory();b.canvas.style.zIndex=d;a._gc.clearAllStage();a.chooseScene()});a._btnBoxS1.evtObject.ele.style.zIndex=100;new KEvent(a._btnBoxS2,{type:"touchend"},function(){a._btnBoxS2.evtObject.destory();b.canvas.style.zIndex=d;a._gc._stage_main.canvas.style.opacity=1;KWhaleUtils.Tween(a._gc._stage_main.canvas.style,{opacity:0},0,200,TWEEN.Easing.Linear.None).start().onComplete(function(){a._gc.clearAllStage();b.canvas.style.opacity=1;a.showStartPanel()})});a._btnBoxS2.evtObject.ele.style.zIndex=100},_scoreNum:null,losePanel:function(c){var a=this,b=a._gc._stage_top,d=b.canvas.style.zIndex;b.canvas.style.zIndex=99;a._mask=KWhaleUtils.getMask("#0b0100",.8);b.addChild(a._mask);a._popupBox=a.createBitmap("h1",b,495/1135,b.sw/2,b.sh/1135*614);a._titleBox=a.createBitmap("a2",b,200/1135,b.sw/2,a._popupBox.y-b.sh/1135*210);a._scoreNum=new Text(a._gc._currentScore,"Arial",b.sh/1135*65,"#e85e4f");a._scoreNum.y=a._popupBox.y-b.sh/1135*8;a._scoreNum.x=b.sw/2+b.sh/1135*45-a._scoreNum.width/2;b.addChild(a._scoreNum);a._btnBoxS1=a.createBitmap("nn3",b,77/1135,b.sw/2-b.sh/1135*122,a._popupBox.y+b.sh/1135*128);a._btnBoxS2=a.createBitmap("nn3",b,77/1135,b.sw/2+b.sh/1135*122,a._popupBox.y+b.sh/1135*128);a._btnText1=new Text("\u518d\u6b21\u6311\u6218","Helvetica",b.sh/1135*30,"#fff");a._btnText1.y=a._btnBoxS1.y+b.sh/1135*10;a._btnText1.x=a._btnBoxS1.x-a._btnText1.width/2;b.addChild(a._btnText1);a._btnText2=new Text("\u8fd4\u56de\u9996\u9875","Helvetica",b.sh/1135*30,"#fff");a._btnText2.y=a._btnBoxS2.y+b.sh/1135*10;a._btnText2.x=a._btnBoxS2.x-a._btnText2.width/2;b.addChild(a._btnText2);new KEvent(a._btnBoxS1,{type:"touchend"},function(){a._btnBoxS1.evtObject.destory();b.canvas.style.zIndex=d;a._gc.gameReplay(c)});a._btnBoxS1.evtObject.ele.style.zIndex=100;new KEvent(a._btnBoxS2,{type:"touchend"},function(){a._btnBoxS2.evtObject.destory();b.canvas.style.zIndex=d;a._gc._stage_main.canvas.style.opacity=1;KWhaleUtils.Tween(a._gc._stage_main.canvas.style,{opacity:0},0,200,TWEEN.Easing.Linear.None).start().onComplete(function(){a._gc.clearAllStage();b.canvas.style.opacity=1;a.showStartPanel()})});a._btnBoxS2.evtObject.ele.style.zIndex=100},_ruleInfo:null,_ruleBox:null,_ruleCloseBtn:null,rulePannel:function(){var c=this,a=c._gc._stage_top;window.isCanMove=!0;window.isCanTouch=!0;var b=a.canvas.style.zIndex;a.canvas.style.zIndex=99;c._blackPannel=new Shape.Rectangle({x:a.sw/2,y:a.sh/2},a.sw,a.sh,"rgba(0,0,0,.8)");c._blackPannel.anchorX=c._blackPannel.anchorY=.5;a.addChild(c._blackPannel);c._ruleBox=c.createBitmap("p1",a,722/1135,a.sw/2,a.sh/2);c._ruleCloseBtn=c.createBitmap("z1",a,65/1135,c._ruleBox.x+c._ruleBox.width/2-a.sh/1135*10,c._ruleBox.y-c._ruleBox.height/2+a.sh/1135*10);c._ruleInfo=document.createElement("div");c._ruleInfo.style.position="absolute";c._ruleInfo.style.overflow="hidden";c._ruleInfo.style.overflowY="scroll";c._ruleInfo.style.height=a.sh/1135*480/window.KWRatio+"px";c._ruleInfo.style.width=a.sh/1135*445/window.KWRatio+"px";c._ruleInfo.style.top=a.sh/1136*395/window.KWRatio+"px";c._ruleInfo.style.fontSize=a.sh/1136*28/window.KWRatio+"px";c._ruleInfo.style.lineHeight=a.sh/1136*45/window.KWRatio+"px";c._ruleInfo.style.color="#767676";c._ruleInfo.style.zIndex=100;document.body.appendChild(c._ruleInfo);c._ruleInfo.style.left=(a.sw/window.KWRatio-c._ruleInfo.offsetWidth)/2+"px";c._ruleInfo.innerHTML="1\u3001\u6e38\u620f\u5206\u5ba2\u5385\u3001\u4e66\u623f\u3001\u5367\u5ba4\u4e09\u5173\uff0c\u6bcf\u6d88\u706d\u4e00\u4e2a\u7532\u919b\u83b7\u5f97\u4e00\u4e2a\u888b\u9f20\uff0c\u901a\u5173\u6210\u529f\u5373\u53ef\u4ee5\u5f00\u793c\u76d2\u62bd\u5956\uff0c\u89c4\u5b9a\u65f6\u95f4\u5185\u65e0\u6cd5\u901a\u5173\u53ef\u91cd\u65b0\u518d\u73a9\u3002\x3c/br/\x3e2\u3001\u7b2c\u4e00\u5173\u9700\u572830\u79d2\u5185\u83b7\u5f9730\u4e2a\u888b\u9f20\u4e3a\u901a\u5173\u6210\u529f\uff0c\u7b2c\u4e8c\u5173\u9700\u572820\u79d2\u83b7\u5f9740\u4e2a\u888b\u9f20\uff0c\u7b2c\u4e09\u5173\u9700\u572820\u79d2\u83b7\u5f9750\u4e2a\u888b\u9f20.\x3cbr/\x3e3\u3001\u6bcf\u4e00\u5173\u901a\u5173\u540e\u65b9\u53ef\u62bd\u53d6\u8be5\u5173\u7684\u5956\u9879\uff0c\u83b7\u5956\u540e\u7559\u4e0b\u8be6\u7ec6\u5730\u5740\u4fbf\u4e8e\u90ae\u5bc4\u5956\u54c1\u3002";c._ruleInfo.style.opacity=0;KWhaleUtils.Tween(c._ruleInfo.style,{opacity:1},0,600,TWEEN.Easing.Linear.None).start();new KEvent(c._ruleCloseBtn,{type:"touchend"},function(){c._ruleCloseBtn.evtObject.destory();a.canvas.style.zIndex=b;a.removeChild(c._ruleCloseBtn);a.removeChild(c._blackPannel);a.removeChild(c._ruleBox);document.body.removeChild(c._ruleInfo);window.isCanMove=!1;window.isCanTouch=!1});c._ruleCloseBtn.evtObject.ele.style.zIndex=100},_friendPace:8,_friendPage:1,_common_nobodyjoin:null,_isSlide:!0,showRankingList:function(){function c(c){console.log(a._friendPage);var d=a._friendPace*(a._friendPage-1)+c+1,e=document.createElement("li");e.style.fontFamily="\u5fae\u8f6f\u96c5\u9ed1";e.style.fontSize=b.sh/KWRatio/1135*32+"px";e.style.color="#767676";e.innerHTML="\x3cp style\x3d'text-align:center;width: "+m+"'\x3e\x3cimg src\x3d'"+window.friendJson.Data[c].UserLogo+"' style\x3d'border-radius:50%;width:"+l+";height:"+l+"  '\x3e\x3cspan class\x3d'infoName' style\x3d'display:block;font-size:12px;text-align: center;width:100%'\x3e"+window.friendJson.Data[c].NickName+"\x3c/span\x3e\x3c/p\x3e\x3cp style\x3d'display:block;text-align: center;width: "+n+"'\x3e"+d+"\x3c/p\x3e\x3cp style\x3d'text-align:center;width: "+p+"'\x3e"+window.friendJson.Data[c].MaxWinNum+"\x3c/p\x3e";e.style.height=b.sh/KWRatio/1135*140+"px";e.style.width=b.sh/KWRatio/1135*530+"px";e.className="webkitX";e.style.borderTop="1px solid #d2d2d2";e.style.margin="0 auto";k.appendChild(e)}var a=this,b=a._gc._stage_top;a._friendPage=1;a._isSlide=!0;var d=b.canvas.style.zIndex;b.canvas.style.zIndex=1E3;var g=KWhaleUtils.getMask("#0b0100",.8);b.addChild(g);var f=a.createBitmap("o1",b,722/1135,b.sw/2,b.sh/2),e=KWhaleUtils.addDomByScale(b,470/1135,578/1135,415/1135,"");e.style.overflowY="scroll";e.style.overflowX="hidden";e.className="friendBox";var k=document.createElement("ul");k.className="friendList";var l=b.sh/KWRatio/1135*70+"px",n=b.sh/KWRatio/1135*178+"px",p=b.sh/KWRatio/1135*180+"px",m=b.sh/KWRatio/1135*160+"px";window.isCanMove=!0;window.isCanTouch=!0;(function(){window.friendJson={Code:1,msg:"",Data:[{NickName:"fsadf",UserLogo:"../../Content/Images/img/b1.png",MaxWinNum:11}]};if(1==window.friendJson.Code){var d=window.friendJson.Data.length;if(0==d)a._common_nobodyjoin=KWhaleUtils.getBmpByName("common_nobodyjoin"),KWhaleUtils.AddStageByScaleHNoCheck(b,a._common_nobodyjoin,204/880),a._common_nobodyjoin.y=b.sh/880*400,a._common_nobodyjoin.x=b.sw/2,a._isSlide=!1;else{for(var f=0;f<d;f++)c(f);document.body.appendChild(e);e.style.left=(b.sw/KWRatio-e.offsetWidth)/2+"px"}}else alert("\u60a8\u7684\u7f51\u7edc\u4e0d\u7ed9\u529b\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")})();e.style.zIndex=2E3;e.appendChild(k);var h=a.createBitmap("z1",b,65/1135,f.x+f.width/2-b.sh/1135*10,f.y-f.height/2+b.sh/1135*10);new KEvent.ADDSLIDE(function(d){if(a._isSlide)switch(console.log(d),d){case "top":if($(".friendBox").scrollTop()+$(".friendBox").height()>=$(".friendList").height()-10)if(a._friendPage++,console.log(a._friendPage),window.friendJson={Code:1,msg:"",Data:[]},1==window.friendJson.Code)if(d=window.friendJson.Data.length,0==d)a._isSlide=!1;else{for(var f=0;f<d;f++)c(f);document.body.appendChild(e);e.style.left=(b.sw/KWRatio-e.offsetWidth)/2+"px"}else alert("\u60a8\u7684\u7f51\u7edc\u4e0d\u7ed9\u529b\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}});new KEvent(h,{type:"touchend"},function(){a._common_nobodyjoin?(console.log("remove",a._common_nobodyjoin),b.removeChild(a._common_nobodyjoin)):(console.log("noremove",a._common_nobodyjoin),document.body.removeChild(e));b.canvas.style.zIndex=d;h.evtObject.destory();b.removeChild(f);b.removeChild(g);b.removeChild(h);window.isCanMove=!1;window.isCanTouch=!1;a._isSlide=!1});h.evtObject.ele.style.zIndex=2002},createBitmap:function(c,a,b,d,g){c=new Bitmap(RES.getRES(""+c));KWhaleUtils.AddStageByScaleHNoCheck(a,c,b);c.anchorX=c.anchorY=.5;c.x=d;c.y=g;return c}};function Scene(c,a){this._gc=c;this._gas=null;this._type=a;this._speed=this._timeLine=null;this.init()}Scene.prototype={_bg:null,_timeBox:null,_scoreBox:null,_timeNum:null,_scoreNum:null,init:function(){var c=this._gc._stage_main,a=this._gc._stage_bg,b=this._type-1;a.isAction=!0;this._gc._isGameStart=!0;this._timeLine=window.userJson.Data.GiftsList[b].RuleTime;this._speed=8*(4-this._type);this._bg=this._gc._panel.createBitmap("bg"+this._type,a,1,a.sw/2,a.sh/2);a.worldDraw();a.isAction=!1;this._timeBox=this._gc._panel.createBitmap("d4",c,67/1135,c.sw/2-c.sh/1135*219,c.sh/1135*64);this._scoreBox=this._gc._panel.createBitmap("d3",c,67/1135,c.sw/2+c.sh/1135*219,c.sh/1135*64);this._timeNum=new Text(this._timeLine,"Arial",c.sh/1135*40,"#d35858");this._timeNum.y=this._timeBox.y+c.sh/1135*15;this._timeNum.x=this._timeBox.x+c.sh/1135*35-this._timeNum.width/2;c.addChild(this._timeNum);this._scoreNum=new Text(this._gc._currentScore,"Arial",c.sh/1135*40,"#d35858");this._scoreNum.y=this._scoreBox.y+c.sh/1135*15;this._scoreNum.x=this._scoreBox.x+c.sh/1135*46;c.addChild(this._scoreNum);new Gas(this._gc,this._type);this.timer();document.getElementById("music").play()},_timer:null,timer:function(){var c=this,a=c._gc._stage_main;c._timer=setInterval(function(){if(c._gc._isGameStart)if(0<c._timeLine)c._timeLine--,c._timeNum.text=c._timeLine,c._timeNum.getRealSize(),c._timeNum.x=c._timeBox.x+a.sh/1135*35-c._timeNum.width/2;else{clearInterval(c._timer);c._gc.gameOver(c._type);c._gc._isGameStart=!1;for(var b=0,d=Gas.GasSet.length;b<d;b++)Gas.GasSet[b]._gas.evtObject.destory();b=0;for(d=Roo.RooSet.length;b<d;b++)Roo.RooSet[b]._roo.evtObject.destory()}},1E3)},_fps:null,run:function(){if(this._gc._isGameStart){this._fps=window.gc.curTime-window.gc.lastTime-1E3/60;this._fps=10>=this._fps?1:40<this._fps?2:1.5;for(var c=0,a=Gas.GasSet.length;c<a;c++)0<Gas.GasSet[c]._speed?Gas.GasSet[c]._speed-=1*this._fps:Gas.GasSet[c].turnDown(c),a=Gas.GasSet.length;c=0;for(a=Roo.RooSet.length;c<a;c++)0<Roo.RooSet[c]._speed?Roo.RooSet[c]._speed-=1*this._fps:Roo.RooSet[c].turnDown(c),a=Roo.RooSet.length;if(0<this._speed)this._speed-=1*this._fps;else if(this._speed=8*(4-this._type),1!=this._type)switch(40<KWhaleUtils.getRandomOne2Numer(50)){case !0:new Roo(this._gc,this._type);break;case !1:new Gas(this._gc,this._type);break;default:new Gas(this._gc,this._type)}else new Gas(this._gc,this._type)}}};function Gas(c,a){this._gc=c;this._isClick=!1;this._type=a;this._speed=this._posY=this._posX=null;Gas.GasSet.push(this);this.init()}Gas.GasSet=[];Gas.prototype={_gas:null,init:function(){switch(this._type){case 1:this._speed=80;break;case 2:this._speed=60;break;case 3:this._speed=40;break;default:this._speed=10}this.turnUp()},turnUp:function(){var c=this._gc._stage_main;this._posX=KWhaleUtils.getRandomOne2Numer(680)-340;this._posY=KWhaleUtils.getRandomOne2Numer(895)+170;this._gas=this._gc._panel.createBitmap("d2",c,132/1135,c.sw/2+c.sh/1135*this._posX,c.sh/1135*this._posY);this._gas.scale=.5;KWhaleUtils.Tween(this._gas,{scale:1},0,100,TWEEN.Easing.Linear.None).start();this._isClick=!0;this.die()},turnDown:function(c){if(0<Gas.GasSet.length&&this._gc._isGameStart){var a=Gas.GasSet[c],b=this._gc._stage_main;a._isClick&&(a._gas.evtObject.destory(),a._isClick=!1);Gas.GasSet.splice(c,1);a._gas.alpha=1;KWhaleUtils.Tween(a._gas,{alpha:0,y:a._gas.y-a._gas.height/1.5},0,200,TWEEN.Easing.Linear.None).start().onComplete(function(){b.removeChild(a._gas)})}},die:function(){var c=this;new KEvent(c._gas,{type:"touchstart"},function(){c._gas.evtObject.destory();c._isClick=!1;var a=Gas.GasSet.indexOf(c);c.turnDown(a);c._gc._currentScore++;c._gc._scene._scoreNum.text=c._gc._currentScore});c._gas.isAutoReflash=!0}};function Roo(c,a){this._gc=c;this._isClick=!1;this._type=a;this._speed=this._posY=this._posX=null;Roo.RooSet.push(this);this.init()}Roo.RooSet=[];Roo.prototype={_roo:null,init:function(){switch(this._type){case 1:this._speed=80;break;case 2:this._speed=60;break;case 3:this._speed=40;break;default:this._speed=10}this.turnUp()},turnUp:function(){var c=this._gc._stage_main;this._posX=KWhaleUtils.getRandomOne2Numer(680)-340;this._posY=KWhaleUtils.getRandomOne2Numer(895)+170;this._roo=this._gc._panel.createBitmap("dd2",c,132/1135,c.sw/2+c.sh/1135*this._posX,c.sh/1135*this._posY);this._roo.scale=.5;KWhaleUtils.Tween(this._roo,{scale:1},0,100,TWEEN.Easing.Linear.None).start();this._isClick=!0;this.die()},turnDown:function(c){if(0<Roo.RooSet.length&&this._gc._isGameStart){var a=Roo.RooSet[c],b=this._gc._stage_main;a._isClick&&(a._roo.evtObject.destory(),a._isClick=!1);Roo.RooSet.splice(c,1);a._roo.alpha=1;KWhaleUtils.Tween(a._roo,{alpha:0,y:a._roo.y-a._roo.height/1.5},0,200,TWEEN.Easing.Linear.None).start().onComplete(function(){b.removeChild(a._roo)})}},die:function(){var c=this;new KEvent(c._roo,{type:"touchstart"},function(){c._roo.evtObject.destory();c._isClick=!1;var a=Roo.RooSet.indexOf(c);c.turnDown(a)});c._roo.isAutoReflash=!0}};